!function(n){function t(r){if(e[r])return e[r].exports;var u=e[r]={exports:{},id:r,loaded:!1};return n[r].call(u.exports,u,u.exports,t),u.loaded=!0,u.exports}var e={};return t.m=n,t.c=e,t.p="",t(0)}([function(n,t,e){n.exports=e(1)},function(n,t,e){"use strict";function r(n){return n&&n.__esModule?n:{"default":n}}var u=e(2),a=r(u),i=e(3),o=r(i),s=e(4),l=r(s),f=e(6),c=r(f),p=function(){function n(){nn.load.image("tile","assets/tile.png"),nn.load.image("pig","assets/pig.png"),nn.load.image("pumpkin","assets/pumpkin.png"),nn.load.image("background","assets/background.png"),nn.load.image("resetButton","assets/tile_reset.png"),nn.load.image("infoButton","assets/tile_info.png")}function t(){nn.stage.backgroundColor=12312315,nn.add.image(0,0,"background"),nn.add.button(280,33,"resetButton",i,this),nn.add.button(362,33,"infoButton",s,this),nn.add.text(292,114,"Pumpkins",{font:"20px Arial",fill:"blue"}),N=nn.add.text(310,140,""+z,{font:"24px Arial",fill:"blue"}),N.x=330-N.width/2,R=window.localStorage.getItem("scoreBest")?JSON.parse(window.localStorage.getItem("scoreBest")):0,nn.add.text(302,197,"Round",{font:"20px Arial",align:"center",fill:"red"}),j=nn.add.text(310,223,""+R,{font:"24px Arial",align:"center",fill:"red"}),j.x=330-j.width/2,nn.input.maxPointers=1,nn.stage.disableVisibilityChange=!0,nn.scale.scaleMode=Phaser.ScaleManager.SHOW_ALL,nn.scale.minWidth=$/2,nn.scale.minHeight=Z/2,nn.scale.maxWidth=$,nn.scale.maxHeight=Z,nn.scale.pageAlignHorizontally=!0,nn.scale.pageAlignVertically=!0,nn.scale.setScreenSize(!0),e()}function e(){O=1,S=!1,U=0,V=[];for(var n=0;I*I>n;n++)M[n]=0;var t=nn.input.keyboard.createCursorKeys();t.up.onDown.add(function(){_(0)},this),t.down.onDown.add(function(){_(1)},this),t.left.onDown.add(function(){_(2)},this),t.right.onDown.add(function(){_(3)},this),A=nn.input.keyboard.addKey(Phaser.Keyboard.N),A.onUp.add(i,this),A=nn.input.keyboard.addKey(Phaser.Keyboard.R),A.onUp.add(u,this),tn.on("dragend",function(n){switch(n.gesture.direction){case"up":_(0);break;case"down":_(1);break;case"left":_(2);break;case"right":_(3)}}),b=nn.add.group(),x=nn.add.group(),p(1*I+6),p(2*I+0),p(3*I+4),p(4*I+3),p(5*I+5),p(6*I+1),a["default"].each(a["default"].range(5),function(){d()}),a["default"].each(a["default"].range(7),function(){h()}),k(),O--}function r(){if(!G&&nn.time.now-K>q){var n=g();0>O&&(O=0),0===O&&_(n),K=nn.time.now}}function u(){G=!G}function i(){b.destroy(),x.destroy(),setTimeout(e,400)}function s(){alert("This is an asymmetrical game.  	      \nPigs win by lowering the pumpkins number to 2 or less in "+X+' rounds or less.  	      \nPumpkins win if they survive to the last round!    	      \n\nYou play the Pigs, with the arrow keys.   	      \nPress "r" on your keyboard to turn on autoplay.')}function f(n){O++,nn.add.tween(n).to({alpha:1},H).start().onComplete.add(function(){O--})}function p(n){M[n]=5;var t=nn.add.sprite(v(n)*F+B,m(n)*F+B+C,"tile");t.pos=n,t.alpha=0,x.add(t),f(t)}function d(){var n=T.pigBirthplace();if(-1!=n){M[n]=1,V.push(n);var t=nn.add.sprite(v(n)*F+B,m(n)*F+B+C,"pig");t.pos=n,t.alpha=0,b.add(t),f(t)}}function h(){var n=D.pumpkinBirthplace();if(-1!=n){M[n]=3;var t=nn.add.sprite(v(n)*F+B,m(n)*F+B+C,"pumpkin");t.pos=n,t.alpha=0,x.add(t),f(t)}}function m(n){return Math.floor(n/I)}function v(n){return n%I}function g(){var n=[0,0,0,0],t=[],e=-1;if(b.sort("y",Phaser.Group.SORT_ASCENDING),b.forEach(function(t){var e=m(t.pos),r=v(t.pos);if(o["default"].is_pumpkin_around(t.pos));else if(e>0){for(E=e-1;E>=0&&0===M[E*I+r];E--);o["default"].is_pumpkin_around((E+1)*I+r)&&n[0]++}}),b.sort("y",Phaser.Group.SORT_DESCENDING),b.forEach(function(t){var e=m(t.pos),r=v(t.pos);if(o["default"].is_pumpkin_around(t.pos));else if(I-1>e){for(E=e+1;I>E&&0===M[E*I+r];E++);o["default"].is_pumpkin_around((E-1)*I+r)&&n[1]++}}),b.sort("x",Phaser.Group.SORT_ASCENDING),b.forEach(function(t){var e=m(t.pos),r=v(t.pos);if(o["default"].is_pumpkin_around(t.pos));else if(r>0){for(E=r-1;E>=0&&0===M[e*I+E];E--);o["default"].is_pumpkin_around(e*I+E+1)&&n[2]++}}),b.sort("x",Phaser.Group.SORT_DESCENDING),b.forEach(function(t){var e=m(t.pos),r=v(t.pos);if(o["default"].is_pumpkin_around(t.pos));else if(I-1>r){for(E=r+1;I>E&&0===M[e*I+E];E++);o["default"].is_pumpkin_around(e*I+E-1)&&n[3]++}}),"v6"==T.squadName()||"v7"==T.squadName()){var r=void 0;r=o["default"].simulate_move(M,0),n[0]=o["default"].how_many_threatened_pumpkins(r),r=o["default"].simulate_move(M,1),n[1]=o["default"].how_many_threatened_pumpkins(r),r=o["default"].simulate_move(M,2),n[2]=o["default"].how_many_threatened_pumpkins(r),r=o["default"].simulate_move(M,3),n[3]=o["default"].how_many_threatened_pumpkins(r)}if("v8"==T.squadName()||"v9"==T.squadName()){var r=void 0;r=o["default"].simulate_move(M,0),n[0]=4*o["default"].how_many_threatened_pumpkins(r)+o["default"].how_many_threatened_pumpkins(o["default"].simulate_move(r,0))+o["default"].how_many_threatened_pumpkins(o["default"].simulate_move(r,1))+o["default"].how_many_threatened_pumpkins(o["default"].simulate_move(r,2))+o["default"].how_many_threatened_pumpkins(o["default"].simulate_move(r,3)),r=o["default"].simulate_move(M,1),n[1]=4*o["default"].how_many_threatened_pumpkins(r)+o["default"].how_many_threatened_pumpkins(o["default"].simulate_move(r,0))+o["default"].how_many_threatened_pumpkins(o["default"].simulate_move(r,1))+o["default"].how_many_threatened_pumpkins(o["default"].simulate_move(r,2))+o["default"].how_many_threatened_pumpkins(o["default"].simulate_move(r,3)),r=o["default"].simulate_move(M,2),n[2]=4*o["default"].how_many_threatened_pumpkins(r)+o["default"].how_many_threatened_pumpkins(o["default"].simulate_move(r,0))+o["default"].how_many_threatened_pumpkins(o["default"].simulate_move(r,1))+o["default"].how_many_threatened_pumpkins(o["default"].simulate_move(r,2))+o["default"].how_many_threatened_pumpkins(o["default"].simulate_move(r,3)),r=o["default"].simulate_move(M,3),n[3]=4*o["default"].how_many_threatened_pumpkins(r)+o["default"].how_many_threatened_pumpkins(o["default"].simulate_move(r,0))+o["default"].how_many_threatened_pumpkins(o["default"].simulate_move(r,1))+o["default"].how_many_threatened_pumpkins(o["default"].simulate_move(r,2))+o["default"].how_many_threatened_pumpkins(o["default"].simulate_move(r,3))}return a["default"].each(n,function(n,r){n>e?(t=[r],e=n):n==e&&t.push(r)}),t.length>0?a["default"].sample(t):a["default"].sample([0,1,2,3])}function _(n){if(!(O>0)){switch(O++,n){case 0:b.sort("y",Phaser.Group.SORT_ASCENDING);break;case 1:b.sort("y",Phaser.Group.SORT_DESCENDING);break;case 2:b.sort("x",Phaser.Group.SORT_ASCENDING);break;case 3:b.sort("x",Phaser.Group.SORT_DESCENDING)}b.forEach(function(t){var e=m(t.pos),r=v(t.pos),u=-1;for(E=e-1;e+1>=E;E++)for(P=r-1;r+1>=P;P++)E>=0&&I>E&&P>=0&&I>P&&3==M[E*I+P]&&-1==u&&(u=E*I+P);if(-1!=u)x.forEach(function(n){"undefined"!=typeof n&&n.pos==u&&(M[u]=0,n.destroy())});else if(0===n){if(e>0){for(E=e-1;E>=0&&0===M[E*I+r];E--);e!=E+1&&w(t,e*I+r,(E+1)*I+r)}}else if(1==n){if(I-1>e){for(E=e+1;I>E&&0===M[E*I+r];E++);e!=E-1&&w(t,e*I+r,(E-1)*I+r)}}else if(2==n){if(r>0){for(E=r-1;E>=0&&0===M[e*I+E];E--);r!=E+1&&w(t,e*I+r,e*I+E+1)}}else if(3==n&&I-1>r){for(E=r+1;I>E&&0===M[e*I+E];E++);r!=E-1&&w(t,e*I+r,e*I+E-1)}}),h(),U++,O--,y()}}function y(){if(!S){var n=!1,t=!1;if(U>=X?n=!0:2>=z&&(n=!0,t=!0),n){S=!0;var e="The game is over: "+(t?"PIGS":"PUMPKINS")+" won"+(t?" on round "+U:"")+"!!";if(console.log(e),G&&alert(e),t?J++:Q++,t){console.log(T.squadName()+" pigs against "+D.squadName()+" won "+J+" times and lost "+Q+" times"),Y.push(U);var r=a["default"].reduce(Y,function(n,t){return n+t},0)/Y.length;console.log("On average Pigs win in "+Math.round(r)+" rounds"),a["default"].each(V,function(n){W[n]+=1});var u="";for(E=0;I>E;E++){for(P=0;I>P;P++)u+=W[E*I+P],u+=" ";I-1>E&&(u+="\n")}console.log("Pigs historical best starting positions: \n"+u)}if(L){var o=new XMLHttpRequest;o.open("POST","http://memefight.net/_azzannalazucca/insert?callback=?",!0),o.setRequestHeader("Content-type","application/x-www-form-urlencoded"),o.send("ai_pigs="+T.squadName()+"&ai_pumpkins="+D.squadName()+"&pigs_win="+(t?1:0))}i()}}}function w(n,t,e){O++,M[e]=M[t],M[t]=0,n.pos=e,nn.add.tween(n).to({x:F*v(e)+B,y:F*m(e)+B+C},H).start().onComplete.add(function(){k(),O--})}function k(){z=x.length-6,N.text=Math.max(z,0),N.x=330-N.width/2,j.text=U,j.x=330-j.width/2}var b,x,A,O,S,N,R,j,E,P,M=[],I=8,T=l["default"],D=c["default"],q=200,F=48,B=16,C=280,G=!0,K=0,U=0,z=0,H=Math.round(q/3),L=!0;o["default"].init({fieldArray:M,tileRows:I}),T.init(o["default"]),D.init(o["default"]);var V=[],W=[],Y=[],J=0,Q=0,X=21,$=2*B+F*I,Z=2*B+F*I+C,nn=new Phaser.Game($,Z,Phaser.AUTO,"",{preload:n,create:t,update:r});for(E=0;I*I>E;E++)W[E]=0;var tn=new Hammer(document.body,{preventDefault:!0,dragLockToAxis:!0,swipe:!1,transform:!1})};window.onload=p},function(n,t,e){var r,u;(function(){function e(n){function t(t,e,r,u,a,i){for(;a>=0&&i>a;a+=n){var o=u?u[a]:a;r=e(r,t[o],o,t)}return r}return function(e,r,u,a){r=x(r,a,4);var i=!E(e)&&b.keys(e),o=(i||e).length,s=n>0?0:o-1;return arguments.length<3&&(u=e[i?i[s]:s],s+=n),t(e,r,u,i,s,o)}}function a(n){return function(t,e,r){e=A(e,r);for(var u=j(t),a=n>0?0:u-1;a>=0&&u>a;a+=n)if(e(t[a],a,t))return a;return-1}}function i(n,t,e){return function(r,u,a){var i=0,o=j(r);if("number"==typeof a)n>0?i=a>=0?a:Math.max(a+o,i):o=a>=0?Math.min(a+1,o):a+o+1;else if(e&&a&&o)return a=e(r,u),r[a]===u?a:-1;if(u!==u)return a=t(h.call(r,i,o),b.isNaN),a>=0?a+i:-1;for(a=n>0?i:o-1;a>=0&&o>a;a+=n)if(r[a]===u)return a;return-1}}function o(n,t){var e=D.length,r=n.constructor,u=b.isFunction(r)&&r.prototype||c,a="constructor";for(b.has(n,a)&&!b.contains(t,a)&&t.push(a);e--;)a=D[e],a in n&&n[a]!==u[a]&&!b.contains(t,a)&&t.push(a)}var s=this,l=s._,f=Array.prototype,c=Object.prototype,p=Function.prototype,d=f.push,h=f.slice,m=c.toString,v=c.hasOwnProperty,g=Array.isArray,_=Object.keys,y=p.bind,w=Object.create,k=function(){},b=function(n){return n instanceof b?n:this instanceof b?void(this._wrapped=n):new b(n)};"undefined"!=typeof n&&n.exports&&(t=n.exports=b),t._=b,b.VERSION="1.8.3";var x=function(n,t,e){if(void 0===t)return n;switch(null==e?3:e){case 1:return function(e){return n.call(t,e)};case 2:return function(e,r){return n.call(t,e,r)};case 3:return function(e,r,u){return n.call(t,e,r,u)};case 4:return function(e,r,u,a){return n.call(t,e,r,u,a)}}return function(){return n.apply(t,arguments)}},A=function(n,t,e){return null==n?b.identity:b.isFunction(n)?x(n,t,e):b.isObject(n)?b.matcher(n):b.property(n)};b.iteratee=function(n,t){return A(n,t,1/0)};var O=function(n,t){return function(e){var r=arguments.length;if(2>r||null==e)return e;for(var u=1;r>u;u++)for(var a=arguments[u],i=n(a),o=i.length,s=0;o>s;s++){var l=i[s];t&&void 0!==e[l]||(e[l]=a[l])}return e}},S=function(n){if(!b.isObject(n))return{};if(w)return w(n);k.prototype=n;var t=new k;return k.prototype=null,t},N=function(n){return function(t){return null==t?void 0:t[n]}},R=Math.pow(2,53)-1,j=N("length"),E=function(n){var t=j(n);return"number"==typeof t&&t>=0&&R>=t};b.each=b.forEach=function(n,t,e){t=x(t,e);var r,u;if(E(n))for(r=0,u=n.length;u>r;r++)t(n[r],r,n);else{var a=b.keys(n);for(r=0,u=a.length;u>r;r++)t(n[a[r]],a[r],n)}return n},b.map=b.collect=function(n,t,e){t=A(t,e);for(var r=!E(n)&&b.keys(n),u=(r||n).length,a=Array(u),i=0;u>i;i++){var o=r?r[i]:i;a[i]=t(n[o],o,n)}return a},b.reduce=b.foldl=b.inject=e(1),b.reduceRight=b.foldr=e(-1),b.find=b.detect=function(n,t,e){var r;return r=E(n)?b.findIndex(n,t,e):b.findKey(n,t,e),void 0!==r&&-1!==r?n[r]:void 0},b.filter=b.select=function(n,t,e){var r=[];return t=A(t,e),b.each(n,function(n,e,u){t(n,e,u)&&r.push(n)}),r},b.reject=function(n,t,e){return b.filter(n,b.negate(A(t)),e)},b.every=b.all=function(n,t,e){t=A(t,e);for(var r=!E(n)&&b.keys(n),u=(r||n).length,a=0;u>a;a++){var i=r?r[a]:a;if(!t(n[i],i,n))return!1}return!0},b.some=b.any=function(n,t,e){t=A(t,e);for(var r=!E(n)&&b.keys(n),u=(r||n).length,a=0;u>a;a++){var i=r?r[a]:a;if(t(n[i],i,n))return!0}return!1},b.contains=b.includes=b.include=function(n,t,e,r){return E(n)||(n=b.values(n)),("number"!=typeof e||r)&&(e=0),b.indexOf(n,t,e)>=0},b.invoke=function(n,t){var e=h.call(arguments,2),r=b.isFunction(t);return b.map(n,function(n){var u=r?t:n[t];return null==u?u:u.apply(n,e)})},b.pluck=function(n,t){return b.map(n,b.property(t))},b.where=function(n,t){return b.filter(n,b.matcher(t))},b.findWhere=function(n,t){return b.find(n,b.matcher(t))},b.max=function(n,t,e){var r,u,a=-(1/0),i=-(1/0);if(null==t&&null!=n){n=E(n)?n:b.values(n);for(var o=0,s=n.length;s>o;o++)r=n[o],r>a&&(a=r)}else t=A(t,e),b.each(n,function(n,e,r){u=t(n,e,r),(u>i||u===-(1/0)&&a===-(1/0))&&(a=n,i=u)});return a},b.min=function(n,t,e){var r,u,a=1/0,i=1/0;if(null==t&&null!=n){n=E(n)?n:b.values(n);for(var o=0,s=n.length;s>o;o++)r=n[o],a>r&&(a=r)}else t=A(t,e),b.each(n,function(n,e,r){u=t(n,e,r),(i>u||u===1/0&&a===1/0)&&(a=n,i=u)});return a},b.shuffle=function(n){for(var t,e=E(n)?n:b.values(n),r=e.length,u=Array(r),a=0;r>a;a++)t=b.random(0,a),t!==a&&(u[a]=u[t]),u[t]=e[a];return u},b.sample=function(n,t,e){return null==t||e?(E(n)||(n=b.values(n)),n[b.random(n.length-1)]):b.shuffle(n).slice(0,Math.max(0,t))},b.sortBy=function(n,t,e){return t=A(t,e),b.pluck(b.map(n,function(n,e,r){return{value:n,index:e,criteria:t(n,e,r)}}).sort(function(n,t){var e=n.criteria,r=t.criteria;if(e!==r){if(e>r||void 0===e)return 1;if(r>e||void 0===r)return-1}return n.index-t.index}),"value")};var P=function(n){return function(t,e,r){var u={};return e=A(e,r),b.each(t,function(r,a){var i=e(r,a,t);n(u,r,i)}),u}};b.groupBy=P(function(n,t,e){b.has(n,e)?n[e].push(t):n[e]=[t]}),b.indexBy=P(function(n,t,e){n[e]=t}),b.countBy=P(function(n,t,e){b.has(n,e)?n[e]++:n[e]=1}),b.toArray=function(n){return n?b.isArray(n)?h.call(n):E(n)?b.map(n,b.identity):b.values(n):[]},b.size=function(n){return null==n?0:E(n)?n.length:b.keys(n).length},b.partition=function(n,t,e){t=A(t,e);var r=[],u=[];return b.each(n,function(n,e,a){(t(n,e,a)?r:u).push(n)}),[r,u]},b.first=b.head=b.take=function(n,t,e){return null==n?void 0:null==t||e?n[0]:b.initial(n,n.length-t)},b.initial=function(n,t,e){return h.call(n,0,Math.max(0,n.length-(null==t||e?1:t)))},b.last=function(n,t,e){return null==n?void 0:null==t||e?n[n.length-1]:b.rest(n,Math.max(0,n.length-t))},b.rest=b.tail=b.drop=function(n,t,e){return h.call(n,null==t||e?1:t)},b.compact=function(n){return b.filter(n,b.identity)};var M=function(n,t,e,r){for(var u=[],a=0,i=r||0,o=j(n);o>i;i++){var s=n[i];if(E(s)&&(b.isArray(s)||b.isArguments(s))){t||(s=M(s,t,e));var l=0,f=s.length;for(u.length+=f;f>l;)u[a++]=s[l++]}else e||(u[a++]=s)}return u};b.flatten=function(n,t){return M(n,t,!1)},b.without=function(n){return b.difference(n,h.call(arguments,1))},b.uniq=b.unique=function(n,t,e,r){b.isBoolean(t)||(r=e,e=t,t=!1),null!=e&&(e=A(e,r));for(var u=[],a=[],i=0,o=j(n);o>i;i++){var s=n[i],l=e?e(s,i,n):s;t?(i&&a===l||u.push(s),a=l):e?b.contains(a,l)||(a.push(l),u.push(s)):b.contains(u,s)||u.push(s)}return u},b.union=function(){return b.uniq(M(arguments,!0,!0))},b.intersection=function(n){for(var t=[],e=arguments.length,r=0,u=j(n);u>r;r++){var a=n[r];if(!b.contains(t,a)){for(var i=1;e>i&&b.contains(arguments[i],a);i++);i===e&&t.push(a)}}return t},b.difference=function(n){var t=M(arguments,!0,!0,1);return b.filter(n,function(n){return!b.contains(t,n)})},b.zip=function(){return b.unzip(arguments)},b.unzip=function(n){for(var t=n&&b.max(n,j).length||0,e=Array(t),r=0;t>r;r++)e[r]=b.pluck(n,r);return e},b.object=function(n,t){for(var e={},r=0,u=j(n);u>r;r++)t?e[n[r]]=t[r]:e[n[r][0]]=n[r][1];return e},b.findIndex=a(1),b.findLastIndex=a(-1),b.sortedIndex=function(n,t,e,r){e=A(e,r,1);for(var u=e(t),a=0,i=j(n);i>a;){var o=Math.floor((a+i)/2);e(n[o])<u?a=o+1:i=o}return a},b.indexOf=i(1,b.findIndex,b.sortedIndex),b.lastIndexOf=i(-1,b.findLastIndex),b.range=function(n,t,e){null==t&&(t=n||0,n=0),e=e||1;for(var r=Math.max(Math.ceil((t-n)/e),0),u=Array(r),a=0;r>a;a++,n+=e)u[a]=n;return u};var I=function(n,t,e,r,u){if(!(r instanceof t))return n.apply(e,u);var a=S(n.prototype),i=n.apply(a,u);return b.isObject(i)?i:a};b.bind=function(n,t){if(y&&n.bind===y)return y.apply(n,h.call(arguments,1));if(!b.isFunction(n))throw new TypeError("Bind must be called on a function");var e=h.call(arguments,2),r=function(){return I(n,r,t,this,e.concat(h.call(arguments)))};return r},b.partial=function(n){var t=h.call(arguments,1),e=function(){for(var r=0,u=t.length,a=Array(u),i=0;u>i;i++)a[i]=t[i]===b?arguments[r++]:t[i];for(;r<arguments.length;)a.push(arguments[r++]);return I(n,e,this,this,a)};return e},b.bindAll=function(n){var t,e,r=arguments.length;if(1>=r)throw new Error("bindAll must be passed function names");for(t=1;r>t;t++)e=arguments[t],n[e]=b.bind(n[e],n);return n},b.memoize=function(n,t){var e=function(r){var u=e.cache,a=""+(t?t.apply(this,arguments):r);return b.has(u,a)||(u[a]=n.apply(this,arguments)),u[a]};return e.cache={},e},b.delay=function(n,t){var e=h.call(arguments,2);return setTimeout(function(){return n.apply(null,e)},t)},b.defer=b.partial(b.delay,b,1),b.throttle=function(n,t,e){var r,u,a,i=null,o=0;e||(e={});var s=function(){o=e.leading===!1?0:b.now(),i=null,a=n.apply(r,u),i||(r=u=null)};return function(){var l=b.now();o||e.leading!==!1||(o=l);var f=t-(l-o);return r=this,u=arguments,0>=f||f>t?(i&&(clearTimeout(i),i=null),o=l,a=n.apply(r,u),i||(r=u=null)):i||e.trailing===!1||(i=setTimeout(s,f)),a}},b.debounce=function(n,t,e){var r,u,a,i,o,s=function(){var l=b.now()-i;t>l&&l>=0?r=setTimeout(s,t-l):(r=null,e||(o=n.apply(a,u),r||(a=u=null)))};return function(){a=this,u=arguments,i=b.now();var l=e&&!r;return r||(r=setTimeout(s,t)),l&&(o=n.apply(a,u),a=u=null),o}},b.wrap=function(n,t){return b.partial(t,n)},b.negate=function(n){return function(){return!n.apply(this,arguments)}},b.compose=function(){var n=arguments,t=n.length-1;return function(){for(var e=t,r=n[t].apply(this,arguments);e--;)r=n[e].call(this,r);return r}},b.after=function(n,t){return function(){return--n<1?t.apply(this,arguments):void 0}},b.before=function(n,t){var e;return function(){return--n>0&&(e=t.apply(this,arguments)),1>=n&&(t=null),e}},b.once=b.partial(b.before,2);var T=!{toString:null}.propertyIsEnumerable("toString"),D=["valueOf","isPrototypeOf","toString","propertyIsEnumerable","hasOwnProperty","toLocaleString"];b.keys=function(n){if(!b.isObject(n))return[];if(_)return _(n);var t=[];for(var e in n)b.has(n,e)&&t.push(e);return T&&o(n,t),t},b.allKeys=function(n){if(!b.isObject(n))return[];var t=[];for(var e in n)t.push(e);return T&&o(n,t),t},b.values=function(n){for(var t=b.keys(n),e=t.length,r=Array(e),u=0;e>u;u++)r[u]=n[t[u]];return r},b.mapObject=function(n,t,e){t=A(t,e);for(var r,u=b.keys(n),a=u.length,i={},o=0;a>o;o++)r=u[o],i[r]=t(n[r],r,n);return i},b.pairs=function(n){for(var t=b.keys(n),e=t.length,r=Array(e),u=0;e>u;u++)r[u]=[t[u],n[t[u]]];return r},b.invert=function(n){for(var t={},e=b.keys(n),r=0,u=e.length;u>r;r++)t[n[e[r]]]=e[r];return t},b.functions=b.methods=function(n){var t=[];for(var e in n)b.isFunction(n[e])&&t.push(e);return t.sort()},b.extend=O(b.allKeys),b.extendOwn=b.assign=O(b.keys),b.findKey=function(n,t,e){t=A(t,e);for(var r,u=b.keys(n),a=0,i=u.length;i>a;a++)if(r=u[a],t(n[r],r,n))return r},b.pick=function(n,t,e){var r,u,a={},i=n;if(null==i)return a;b.isFunction(t)?(u=b.allKeys(i),r=x(t,e)):(u=M(arguments,!1,!1,1),r=function(n,t,e){return t in e},i=Object(i));for(var o=0,s=u.length;s>o;o++){var l=u[o],f=i[l];r(f,l,i)&&(a[l]=f)}return a},b.omit=function(n,t,e){if(b.isFunction(t))t=b.negate(t);else{var r=b.map(M(arguments,!1,!1,1),String);t=function(n,t){return!b.contains(r,t)}}return b.pick(n,t,e)},b.defaults=O(b.allKeys,!0),b.create=function(n,t){var e=S(n);return t&&b.extendOwn(e,t),e},b.clone=function(n){return b.isObject(n)?b.isArray(n)?n.slice():b.extend({},n):n},b.tap=function(n,t){return t(n),n},b.isMatch=function(n,t){var e=b.keys(t),r=e.length;if(null==n)return!r;for(var u=Object(n),a=0;r>a;a++){var i=e[a];if(t[i]!==u[i]||!(i in u))return!1}return!0};var q=function(n,t,e,r){if(n===t)return 0!==n||1/n===1/t;if(null==n||null==t)return n===t;n instanceof b&&(n=n._wrapped),t instanceof b&&(t=t._wrapped);var u=m.call(n);if(u!==m.call(t))return!1;switch(u){case"[object RegExp]":case"[object String]":return""+n==""+t;case"[object Number]":return+n!==+n?+t!==+t:0===+n?1/+n===1/t:+n===+t;case"[object Date]":case"[object Boolean]":return+n===+t}var a="[object Array]"===u;if(!a){if("object"!=typeof n||"object"!=typeof t)return!1;var i=n.constructor,o=t.constructor;if(i!==o&&!(b.isFunction(i)&&i instanceof i&&b.isFunction(o)&&o instanceof o)&&"constructor"in n&&"constructor"in t)return!1}e=e||[],r=r||[];for(var s=e.length;s--;)if(e[s]===n)return r[s]===t;if(e.push(n),r.push(t),a){if(s=n.length,s!==t.length)return!1;for(;s--;)if(!q(n[s],t[s],e,r))return!1}else{var l,f=b.keys(n);if(s=f.length,b.keys(t).length!==s)return!1;for(;s--;)if(l=f[s],!b.has(t,l)||!q(n[l],t[l],e,r))return!1}return e.pop(),r.pop(),!0};b.isEqual=function(n,t){return q(n,t)},b.isEmpty=function(n){return null==n?!0:E(n)&&(b.isArray(n)||b.isString(n)||b.isArguments(n))?0===n.length:0===b.keys(n).length},b.isElement=function(n){return!(!n||1!==n.nodeType)},b.isArray=g||function(n){return"[object Array]"===m.call(n)},b.isObject=function(n){var t=typeof n;return"function"===t||"object"===t&&!!n},b.each(["Arguments","Function","String","Number","Date","RegExp","Error"],function(n){b["is"+n]=function(t){return m.call(t)==="[object "+n+"]"}}),b.isArguments(arguments)||(b.isArguments=function(n){return b.has(n,"callee")}),"function"!=typeof/./&&"object"!=typeof Int8Array&&(b.isFunction=function(n){return"function"==typeof n||!1}),b.isFinite=function(n){return isFinite(n)&&!isNaN(parseFloat(n))},b.isNaN=function(n){return b.isNumber(n)&&n!==+n},b.isBoolean=function(n){return n===!0||n===!1||"[object Boolean]"===m.call(n)},b.isNull=function(n){return null===n},b.isUndefined=function(n){return void 0===n},b.has=function(n,t){return null!=n&&v.call(n,t)},b.noConflict=function(){return s._=l,this},b.identity=function(n){return n},b.constant=function(n){return function(){return n}},b.noop=function(){},b.property=N,b.propertyOf=function(n){return null==n?function(){}:function(t){return n[t]}},b.matcher=b.matches=function(n){return n=b.extendOwn({},n),function(t){return b.isMatch(t,n)}},b.times=function(n,t,e){var r=Array(Math.max(0,n));t=x(t,e,1);for(var u=0;n>u;u++)r[u]=t(u);return r},b.random=function(n,t){return null==t&&(t=n,n=0),n+Math.floor(Math.random()*(t-n+1))},b.now=Date.now||function(){return(new Date).getTime()};var F={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#x27;","`":"&#x60;"},B=b.invert(F),C=function(n){var t=function(t){return n[t]},e="(?:"+b.keys(n).join("|")+")",r=RegExp(e),u=RegExp(e,"g");return function(n){return n=null==n?"":""+n,r.test(n)?n.replace(u,t):n}};b.escape=C(F),b.unescape=C(B),b.result=function(n,t,e){var r=null==n?void 0:n[t];return void 0===r&&(r=e),b.isFunction(r)?r.call(n):r};var G=0;b.uniqueId=function(n){var t=++G+"";return n?n+t:t},b.templateSettings={evaluate:/<%([\s\S]+?)%>/g,interpolate:/<%=([\s\S]+?)%>/g,escape:/<%-([\s\S]+?)%>/g};var K=/(.)^/,U={"'":"'","\\":"\\","\r":"r","\n":"n","\u2028":"u2028","\u2029":"u2029"},z=/\\|'|\r|\n|\u2028|\u2029/g,H=function(n){return"\\"+U[n]};b.template=function(n,t,e){!t&&e&&(t=e),t=b.defaults({},t,b.templateSettings);var r=RegExp([(t.escape||K).source,(t.interpolate||K).source,(t.evaluate||K).source].join("|")+"|$","g"),u=0,a="__p+='";n.replace(r,function(t,e,r,i,o){return a+=n.slice(u,o).replace(z,H),u=o+t.length,e?a+="'+\n((__t=("+e+"))==null?'':_.escape(__t))+\n'":r?a+="'+\n((__t=("+r+"))==null?'':__t)+\n'":i&&(a+="';\n"+i+"\n__p+='"),t}),a+="';\n",t.variable||(a="with(obj||{}){\n"+a+"}\n"),a="var __t,__p='',__j=Array.prototype.join,print=function(){__p+=__j.call(arguments,'');};\n"+a+"return __p;\n";try{var i=new Function(t.variable||"obj","_",a)}catch(o){throw o.source=a,o}var s=function(n){return i.call(this,n,b)},l=t.variable||"obj";return s.source="function("+l+"){\n"+a+"}",s},b.chain=function(n){var t=b(n);return t._chain=!0,t};var L=function(n,t){return n._chain?b(t).chain():t};b.mixin=function(n){b.each(b.functions(n),function(t){var e=b[t]=n[t];b.prototype[t]=function(){var n=[this._wrapped];return d.apply(n,arguments),L(this,e.apply(b,n))}})},b.mixin(b),b.each(["pop","push","reverse","shift","sort","splice","unshift"],function(n){var t=f[n];b.prototype[n]=function(){var e=this._wrapped;return t.apply(e,arguments),"shift"!==n&&"splice"!==n||0!==e.length||delete e[0],L(this,e)}}),b.each(["concat","join","slice"],function(n){var t=f[n];b.prototype[n]=function(){return L(this,t.apply(this._wrapped,arguments))}}),b.prototype.value=function(){return this._wrapped},b.prototype.valueOf=b.prototype.toJSON=b.prototype.value,b.prototype.toString=function(){return""+this._wrapped},r=[],u=function(){return b}.apply(t,r),!(void 0!==u&&(n.exports=u))}).call(this)},function(n,t,e){"use strict";function r(n){return n&&n.__esModule?n:{"default":n}}Object.defineProperty(t,"__esModule",{value:!0});var u=e(2),a=r(u),i=void 0,o=void 0,s=void 0,l=void 0,f={init:function(n){i=n.fieldArray,o=n.tileRows},getFieldArray:function(){return i},getTileRows:function(){return o},toRow:function(n){return Math.floor(n/o)},toCol:function(n){return n%o},is_pig_looking:function(n){var t=this.toRow(n),e=this.toCol(n);if(t>0)for(s=t-1;s>=0&&(3!=i[s*o+e]&&5!=i[s*o+e]);s--)if(1==i[s*o+e])return!0;if(o>t)for(s=t+1;o>s&&(3!=i[s*o+e]&&5!=i[s*o+e]);s++)if(1==i[s*o+e])return!0;if(e>0)for(l=e-1;l>=0&&(3!=i[t*o+l]&&5!=i[t*o+l]);l--)if(1==i[t*o+l])return!0;if(o>e)for(l=e+1;o>l&&(3!=i[t*o+l]&&5!=i[t*o+l]);l++)if(1==i[t*o+l])return!0;return!1},is_something_around:function(n,t){var e=arguments.length<=2||void 0===arguments[2]?void 0:arguments[2],r=this.toRow(n),u=this.toCol(n);void 0===e&&(e=i);for(var a=r-1;r+1>=a;a++)for(var s=u-1;u+1>=s;s++)if(a>=0&&o>a&&s>=0&&o>s&&e[a*o+s]==t)return!0;return!1},is_pig_around:function(n){var t=arguments.length<=1||void 0===arguments[1]?void 0:arguments[1];return this.is_something_around(n,1,t)},is_pumpkin_around:function(n){var t=arguments.length<=1||void 0===arguments[1]?void 0:arguments[1];return this.is_something_around(n,3,t)},pos_pumpkin_around:function(n){for(var t=this.toRow(n),e=this.toCol(n),r=t-1;t+1>=r;r++)for(var u=e-1;e+1>=u;u++)if(r>=0&&o>r&&u>=0&&o>u&&3==i[r*o+u])return r*o+u;return!1},how_many_threatened_pumpkins:function(n){for(var t=0,e=0;o*o>e;e++)3==n[e]&&this.is_pig_around(e,n)&&t++;return t},log_field:function(n){for(var t="",e=0;o>e;e++){for(var r=0;o>r;r++)t+=0===n[e*o+r]?"-":n[e*o+r];o-1>e&&(t+="\n")}console.log(t+"\n\n")},simulate_move:function(n,t){var e=a["default"].clone(n),r=this.getTileRows();if(0===t)for(var u=0;r>u;u++)for(var i=0;r>i;i++){var o=u*r+i;if(1===e[o]){var s=this.pos_pumpkin_around(o);if(this.pos_pumpkin_around(o)!==!1)e[s]=0;else{for(var l=u;;){if(0!==e[(l-1)*r+i]||0===l)break;l--}e[o]=0,e[l*r+i]=1}}}else if(1==t)for(var f=r-1;f>=0;f--)for(var c=0;r>c;c++){var o=f*r+c;if(1===e[o]){var s=this.pos_pumpkin_around(o);if(this.pos_pumpkin_around(o)!==!1)e[s]=0;else{for(var l=f;;){if(0!==e[(l+1)*r+c]||l+1===r)break;l++}e[o]=0,e[l*r+c]=1}}}else if(2==t)for(var p=0;r>p;p++)for(var d=0;r>d;d++){var o=d*r+p;if(1===e[o]){var s=this.pos_pumpkin_around(o);if(this.pos_pumpkin_around(o)!==!1)e[s]=0;else{for(var l=p;;){if(0!==e[d*r+(l-1)]||0===l)break;l--}e[o]=0,e[d*r+l]=1}}}else if(3==t)for(var h=r-1;h>=0;h--)for(var m=0;r>m;m++){var o=m*r+h;if(1===e[o]){var s=this.pos_pumpkin_around(o);if(this.pos_pumpkin_around(o)!==!1)e[s]=0;else{for(var l=h;;){if(0!==e[m*r+(l+1)]||l+1===r)break;l++}e[o]=0,e[m*r+l]=1}}}return e}};t["default"]=f,n.exports=t["default"]},function(n,t,e){"use strict";function r(n){return n&&n.__esModule?n:{"default":n}}Object.defineProperty(t,"__esModule",{value:!0});var u=e(2),a=r(u),i=e(5),o=r(i),s=a["default"].clone(o["default"]);s.privSquadName="v9",s.pigBirthplace=function(){var n=this;if(-1!=a["default"].indexOf(this.fieldArray,0)){var t=[],e=[],r=[];return a["default"].each(a["default"].range(this.tileRows*this.tileRows),function(r){0===n.fieldArray[r]&&(t.push(r),n.gu.is_pig_looking(r)||e.push(r))}),r=e.length>0?e:t,a["default"].sample(r)}},t["default"]=s,n.exports=t["default"]},function(n,t,e){"use strict";function r(n){return n&&n.__esModule?n:{"default":n}}Object.defineProperty(t,"__esModule",{value:!0});var u=e(2),a=r(u),i={privSquadName:"--",gu:{},fieldArray:[],tileRows:0,init:function(n){this.gu=n,this.fieldArray=n.getFieldArray(),this.tileRows=n.getTileRows()},squadName:function(){return this.privSquadName},pigBirthplace:function(){console.log("PLEASE OVERRIDE THIS FUNCTION IN YOUR SQUAD");var n=this;if(-1!=a["default"].indexOf(this.fieldArray,0)){var t=[];return a["default"].each(a["default"].range(this.tileRows*this.tileRows),function(e){0===n.fieldArray[e]&&t.push(e)}),a["default"].sample(t)}}};t["default"]=i,n.exports=t["default"]},function(n,t,e){"use strict";function r(n){return n&&n.__esModule?n:{"default":n}}Object.defineProperty(t,"__esModule",{value:!0});var u=e(2),a=r(u),i=e(7),o=r(i),s=a["default"].clone(o["default"]);s.privSquadName="v4",s.pumpkinBirthplace=function(){var n=this;if(-1==a["default"].indexOf(this.fieldArray,0))return-1;var t=[],e=[],r=[],u=[],i=[],o=99999,s=[];return a["default"].each(a["default"].range(this.tileRows*this.tileRows),function(t){var e=n.fieldArray;e[t]=3;var r=n.gu.how_many_threatened_pumpkins(n.gu.simulate_move(e,0))+n.gu.how_many_threatened_pumpkins(n.gu.simulate_move(e,1))+n.gu.how_many_threatened_pumpkins(n.gu.simulate_move(e,2))+n.gu.how_many_threatened_pumpkins(n.gu.simulate_move(e,3));o>r?(o=r,s=[t]):r==o&&s.push(t)}),a["default"].each(a["default"].range(this.tileRows*this.tileRows),function(i){0===n.fieldArray[i]&&(t.push(i),n.gu.is_pig_around(i)||(e.push(i),n.gu.is_pig_looking(i)||(r.push(i),a["default"].contains(s,i)&&u.push(i))))}),console.log(u),i=u.length>0?u:r.length>0?r:e.length>0?e:t,a["default"].sample(i)},t["default"]=s,n.exports=t["default"]},function(n,t,e){"use strict";function r(n){return n&&n.__esModule?n:{"default":n}}Object.defineProperty(t,"__esModule",{value:!0});var u=e(2),a=r(u),i={privSquadName:"--",gu:{},fieldArray:[],tileRows:0,init:function(n){this.gu=n,this.fieldArray=n.getFieldArray(),this.tileRows=n.getTileRows()},squadName:function(){return this.privSquadName},pumpkinBirthplace:function(){console.log("PLEASE OVERRIDE THIS FUNCTION IN YOUR SQUAD");var n=this;if(-1==a["default"].indexOf(this.fieldArray,0))return-1;var t=[];return a["default"].each(a["default"].range(this.tileRows*this.tileRows),function(e){0===n.fieldArray[e]&&t.push(e)}),a["default"].sample(t)}};t["default"]=i,n.exports=t["default"]}]);