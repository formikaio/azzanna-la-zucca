!function(n){function t(r){if(e[r])return e[r].exports;var i=e[r]={exports:{},id:r,loaded:!1};return n[r].call(i.exports,i,i.exports,t),i.loaded=!0,i.exports}var e={};return t.m=n,t.c=e,t.p="",t(0)}([function(n,t,e){n.exports=e(1)},function(n,t,e){"use strict";function r(n){return n&&n.__esModule?n:{"default":n}}var i=e(2),u=r(i),o=e(3),a=r(o),s=e(4),f=r(s),l=e(6),c=r(l),p=function(){function n(){$.load.image("tile","assets/tile.png"),$.load.image("pig","assets/pig.png"),$.load.image("pumpkin","assets/pumpkin.png"),$.load.image("background","assets/background.png"),$.load.image("resetButton","assets/tile_reset.png"),$.load.image("infoButton","assets/tile_info.png")}function t(){$.stage.backgroundColor=12312315,$.add.image(0,0,"background"),$.add.button(280,33,"resetButton",o,this),$.add.button(362,33,"infoButton",s,this),$.add.text(292,114,"Pumpkins",{font:"20px Arial",fill:"blue"}),N=$.add.text(310,140,""+U,{font:"24px Arial",fill:"blue"}),N.x=330-N.width/2,R=window.localStorage.getItem("scoreBest")?JSON.parse(window.localStorage.getItem("scoreBest")):0,$.add.text(302,197,"Round",{font:"20px Arial",align:"center",fill:"red"}),E=$.add.text(310,223,""+R,{font:"24px Arial",align:"center",fill:"red"}),E.x=330-E.width/2,$.input.maxPointers=1,$.stage.disableVisibilityChange=!0,$.scale.scaleMode=Phaser.ScaleManager.SHOW_ALL,$.scale.minWidth=Q/2,$.scale.minHeight=J/2,$.scale.maxWidth=Q,$.scale.maxHeight=J,$.scale.pageAlignHorizontally=!0,$.scale.pageAlignVertically=!0,$.scale.setScreenSize(!0),e()}function e(){O=1,S=!1,G=0,L=[];for(var n=0;P*P>n;n++)M[n]=0;var t=$.input.keyboard.createCursorKeys();t.up.onDown.add(function(){_(0)},this),t.down.onDown.add(function(){_(1)},this),t.left.onDown.add(function(){_(2)},this),t.right.onDown.add(function(){_(3)},this),A=$.input.keyboard.addKey(Phaser.Keyboard.N),A.onUp.add(o,this),A=$.input.keyboard.addKey(Phaser.Keyboard.R),A.onUp.add(i,this),X.on("dragend",function(n){switch(n.gesture.direction){case"up":_(0);break;case"down":_(1);break;case"left":_(2);break;case"right":_(3)}}),b=$.add.group(),x=$.add.group();var e=[14,16,28,35,45,49];e.forEach(function(n){p(n)}),u["default"].each(u["default"].range(5),function(){d()}),u["default"].each(u["default"].range(3),function(){h()}),k(),O--}function r(){if(!C&&$.time.now-q>T){var n=g();0>O&&(O=0),0===O&&_(n),q=$.time.now}}function i(){C=!C}function o(){b.destroy(),x.destroy(),setTimeout(e,400)}function s(){alert("This is an asymmetrical game.\nPigs win by lowering the pumpkins number to 2 or less in '+gameTotalRounds+' rounds or less.\nPumpkins win if they survive to the last round!\n\nYou play the Pigs, with the arrow keys.\nPress \"r\" on your keyboard to turn on autoplay.")}function l(n){O++,$.add.tween(n).to({alpha:1},K).start().onComplete.add(function(){O--})}function p(n){M[n]=5;var t=$.add.sprite(m(n)*D+F,v(n)*D+F+B,"tile");t.pos=n,t.alpha=0,x.add(t),l(t)}function d(){var n=f["default"].pigBirthplace();if(-1!=n){M[n]=1,L.push(n);var t=$.add.sprite(m(n)*D+F,v(n)*D+F+B,"pig");t.pos=n,t.alpha=0,b.add(t),l(t)}}function h(){var n=c["default"].pumpkinBirthplace();if(-1!=n){M[n]=3;var t=$.add.sprite(m(n)*D+F,v(n)*D+F+B,"pumpkin");t.pos=n,t.alpha=0,x.add(t),l(t)}}function v(n){return Math.floor(n/P)}function m(n){return n%P}function g(){var n=[0,0,0,0],t=[],e=-1;return b.sort("y",Phaser.Group.SORT_ASCENDING),b.forEach(function(t){var e=v(t.pos),r=m(t.pos);if(a["default"].is_pumpkin_around(t.pos));else if(e>0){for(j=e-1;j>=0&&0===M[j*P+r];j--);a["default"].is_pumpkin_around((j+1)*P+r)&&n[0]++}}),b.sort("y",Phaser.Group.SORT_DESCENDING),b.forEach(function(t){var e=v(t.pos),r=m(t.pos);if(a["default"].is_pumpkin_around(t.pos));else if(P-1>e){for(j=e+1;P>j&&0===M[j*P+r];j++);a["default"].is_pumpkin_around((j-1)*P+r)&&n[1]++}}),b.sort("x",Phaser.Group.SORT_ASCENDING),b.forEach(function(t){var e=v(t.pos),r=m(t.pos);if(a["default"].is_pumpkin_around(t.pos));else if(r>0){for(j=r-1;j>=0&&0===M[e*P+j];j--);a["default"].is_pumpkin_around(e*P+j+1)&&n[2]++}}),b.sort("x",Phaser.Group.SORT_DESCENDING),b.forEach(function(t){var e=v(t.pos),r=m(t.pos);if(a["default"].is_pumpkin_around(t.pos));else if(P-1>r){for(j=r+1;P>j&&0===M[e*P+j];j++);a["default"].is_pumpkin_around(e*P+j-1)&&n[3]++}}),"v6"!=f["default"].squadName()&&"v7"!=f["default"].squadName()||(n=f["default"].pigMove()),"v8"!=f["default"].squadName()&&"v9"!=f["default"].squadName()||(n=f["default"].pigMove()),u["default"].each(n,function(n,r){n>e?(t=[r],e=n):n==e&&t.push(r)}),t.length>0?u["default"].sample(t):u["default"].sample([0,1,2,3])}function _(n){if(!(O>0)){switch(O++,n){case 0:b.sort("y",Phaser.Group.SORT_ASCENDING);break;case 1:b.sort("y",Phaser.Group.SORT_DESCENDING);break;case 2:b.sort("x",Phaser.Group.SORT_ASCENDING);break;case 3:b.sort("x",Phaser.Group.SORT_DESCENDING)}b.forEach(function(t){var e=v(t.pos),r=m(t.pos),i=-1;for(j=e-1;e+1>=j;j++)for(I=r-1;r+1>=I;I++)j>=0&&P>j&&I>=0&&P>I&&3==M[j*P+I]&&-1==i&&(i=j*P+I);if(-1!=i)x.forEach(function(n){"undefined"!=typeof n&&n.pos==i&&(M[i]=0,n.destroy())});else if(0===n){if(e>0){for(j=e-1;j>=0&&0===M[j*P+r];j--);e!=j+1&&w(t,e*P+r,(j+1)*P+r)}}else if(1==n){if(P-1>e){for(j=e+1;P>j&&0===M[j*P+r];j++);e!=j-1&&w(t,e*P+r,(j-1)*P+r)}}else if(2==n){if(r>0){for(j=r-1;j>=0&&0===M[e*P+j];j--);r!=j+1&&w(t,e*P+r,e*P+j+1)}}else if(3==n&&P-1>r){for(j=r+1;P>j&&0===M[e*P+j];j++);r!=j-1&&w(t,e*P+r,e*P+j-1)}}),h(),G++,O--,y()}}function y(){if(!S){var n=!1,t=!1;if(G>=Y?n=!0:2>=U&&(n=!0,t=!0),n){S=!0;var e="The game is over: "+(t?"PIGS":"PUMPKINS")+" won"+(t?" on round "+G:"")+"!!";if(console.log(e),C&&alert(e),t?V++:W++,t){console.log(f["default"].squadName()+" pigs against "+c["default"].squadName()+" won "+V+" times and lost "+W+" times"),z.push(G);var r=u["default"].reduce(z,function(n,t){return n+t},0)/z.length;console.log("On average Pigs win in "+Math.round(r)+" rounds"),u["default"].each(L,function(n){H[n]+=1});var i="";for(j=0;P>j;j++){for(I=0;P>I;I++)i+=H[j*P+I],i+=" ";P-1>j&&(i+="\n")}console.log("Pigs historical best starting positions: \n"+i)}o()}}}function w(n,t,e){O++,M[e]=M[t],M[t]=0,n.pos=e,$.add.tween(n).to({x:D*m(e)+F,y:D*v(e)+F+B},K).start().onComplete.add(function(){k(),O--})}function k(){U=x.length-6,N.text=Math.max(U,0),N.x=330-N.width/2,E.text=G,E.x=330-E.width/2}var b,x,A,O,S,N,R,E,j,I,M=[],P=8,T=2e3,D=48,F=16,B=280,C=!0,q=0,G=0,U=0,K=Math.round(T/3);a["default"].init({fieldArray:M,tileRows:P}),f["default"].init(a["default"]),c["default"].init(a["default"]);var L=[],H=[],z=[],V=0,W=0,Y=21,Q=2*F+D*P,J=2*F+D*P+B,$=new Phaser.Game(Q,J,Phaser.AUTO,"",{preload:n,create:t,update:r});for(j=0;P*P>j;j++)H[j]=0;var X=new Hammer(document.body,{preventDefault:!0,dragLockToAxis:!0,swipe:!1,transform:!1})};window.onload=p},function(n,t,e){var r,i;(function(){function e(n){function t(t,e,r,i,u,o){for(;u>=0&&o>u;u+=n){var a=i?i[u]:u;r=e(r,t[a],a,t)}return r}return function(e,r,i,u){r=x(r,u,4);var o=!j(e)&&b.keys(e),a=(o||e).length,s=n>0?0:a-1;return arguments.length<3&&(i=e[o?o[s]:s],s+=n),t(e,r,i,o,s,a)}}function u(n){return function(t,e,r){e=A(e,r);for(var i=E(t),u=n>0?0:i-1;u>=0&&i>u;u+=n)if(e(t[u],u,t))return u;return-1}}function o(n,t,e){return function(r,i,u){var o=0,a=E(r);if("number"==typeof u)n>0?o=u>=0?u:Math.max(u+a,o):a=u>=0?Math.min(u+1,a):u+a+1;else if(e&&u&&a)return u=e(r,i),r[u]===i?u:-1;if(i!==i)return u=t(h.call(r,o,a),b.isNaN),u>=0?u+o:-1;for(u=n>0?o:a-1;u>=0&&a>u;u+=n)if(r[u]===i)return u;return-1}}function a(n,t){var e=D.length,r=n.constructor,i=b.isFunction(r)&&r.prototype||c,u="constructor";for(b.has(n,u)&&!b.contains(t,u)&&t.push(u);e--;)u=D[e],u in n&&n[u]!==i[u]&&!b.contains(t,u)&&t.push(u)}var s=this,f=s._,l=Array.prototype,c=Object.prototype,p=Function.prototype,d=l.push,h=l.slice,v=c.toString,m=c.hasOwnProperty,g=Array.isArray,_=Object.keys,y=p.bind,w=Object.create,k=function(){},b=function(n){return n instanceof b?n:this instanceof b?void(this._wrapped=n):new b(n)};"undefined"!=typeof n&&n.exports&&(t=n.exports=b),t._=b,b.VERSION="1.8.3";var x=function(n,t,e){if(void 0===t)return n;switch(null==e?3:e){case 1:return function(e){return n.call(t,e)};case 2:return function(e,r){return n.call(t,e,r)};case 3:return function(e,r,i){return n.call(t,e,r,i)};case 4:return function(e,r,i,u){return n.call(t,e,r,i,u)}}return function(){return n.apply(t,arguments)}},A=function(n,t,e){return null==n?b.identity:b.isFunction(n)?x(n,t,e):b.isObject(n)?b.matcher(n):b.property(n)};b.iteratee=function(n,t){return A(n,t,1/0)};var O=function(n,t){return function(e){var r=arguments.length;if(2>r||null==e)return e;for(var i=1;r>i;i++)for(var u=arguments[i],o=n(u),a=o.length,s=0;a>s;s++){var f=o[s];t&&void 0!==e[f]||(e[f]=u[f])}return e}},S=function(n){if(!b.isObject(n))return{};if(w)return w(n);k.prototype=n;var t=new k;return k.prototype=null,t},N=function(n){return function(t){return null==t?void 0:t[n]}},R=Math.pow(2,53)-1,E=N("length"),j=function(n){var t=E(n);return"number"==typeof t&&t>=0&&R>=t};b.each=b.forEach=function(n,t,e){t=x(t,e);var r,i;if(j(n))for(r=0,i=n.length;i>r;r++)t(n[r],r,n);else{var u=b.keys(n);for(r=0,i=u.length;i>r;r++)t(n[u[r]],u[r],n)}return n},b.map=b.collect=function(n,t,e){t=A(t,e);for(var r=!j(n)&&b.keys(n),i=(r||n).length,u=Array(i),o=0;i>o;o++){var a=r?r[o]:o;u[o]=t(n[a],a,n)}return u},b.reduce=b.foldl=b.inject=e(1),b.reduceRight=b.foldr=e(-1),b.find=b.detect=function(n,t,e){var r;return r=j(n)?b.findIndex(n,t,e):b.findKey(n,t,e),void 0!==r&&-1!==r?n[r]:void 0},b.filter=b.select=function(n,t,e){var r=[];return t=A(t,e),b.each(n,function(n,e,i){t(n,e,i)&&r.push(n)}),r},b.reject=function(n,t,e){return b.filter(n,b.negate(A(t)),e)},b.every=b.all=function(n,t,e){t=A(t,e);for(var r=!j(n)&&b.keys(n),i=(r||n).length,u=0;i>u;u++){var o=r?r[u]:u;if(!t(n[o],o,n))return!1}return!0},b.some=b.any=function(n,t,e){t=A(t,e);for(var r=!j(n)&&b.keys(n),i=(r||n).length,u=0;i>u;u++){var o=r?r[u]:u;if(t(n[o],o,n))return!0}return!1},b.contains=b.includes=b.include=function(n,t,e,r){return j(n)||(n=b.values(n)),("number"!=typeof e||r)&&(e=0),b.indexOf(n,t,e)>=0},b.invoke=function(n,t){var e=h.call(arguments,2),r=b.isFunction(t);return b.map(n,function(n){var i=r?t:n[t];return null==i?i:i.apply(n,e)})},b.pluck=function(n,t){return b.map(n,b.property(t))},b.where=function(n,t){return b.filter(n,b.matcher(t))},b.findWhere=function(n,t){return b.find(n,b.matcher(t))},b.max=function(n,t,e){var r,i,u=-(1/0),o=-(1/0);if(null==t&&null!=n){n=j(n)?n:b.values(n);for(var a=0,s=n.length;s>a;a++)r=n[a],r>u&&(u=r)}else t=A(t,e),b.each(n,function(n,e,r){i=t(n,e,r),(i>o||i===-(1/0)&&u===-(1/0))&&(u=n,o=i)});return u},b.min=function(n,t,e){var r,i,u=1/0,o=1/0;if(null==t&&null!=n){n=j(n)?n:b.values(n);for(var a=0,s=n.length;s>a;a++)r=n[a],u>r&&(u=r)}else t=A(t,e),b.each(n,function(n,e,r){i=t(n,e,r),(o>i||i===1/0&&u===1/0)&&(u=n,o=i)});return u},b.shuffle=function(n){for(var t,e=j(n)?n:b.values(n),r=e.length,i=Array(r),u=0;r>u;u++)t=b.random(0,u),t!==u&&(i[u]=i[t]),i[t]=e[u];return i},b.sample=function(n,t,e){return null==t||e?(j(n)||(n=b.values(n)),n[b.random(n.length-1)]):b.shuffle(n).slice(0,Math.max(0,t))},b.sortBy=function(n,t,e){return t=A(t,e),b.pluck(b.map(n,function(n,e,r){return{value:n,index:e,criteria:t(n,e,r)}}).sort(function(n,t){var e=n.criteria,r=t.criteria;if(e!==r){if(e>r||void 0===e)return 1;if(r>e||void 0===r)return-1}return n.index-t.index}),"value")};var I=function(n){return function(t,e,r){var i={};return e=A(e,r),b.each(t,function(r,u){var o=e(r,u,t);n(i,r,o)}),i}};b.groupBy=I(function(n,t,e){b.has(n,e)?n[e].push(t):n[e]=[t]}),b.indexBy=I(function(n,t,e){n[e]=t}),b.countBy=I(function(n,t,e){b.has(n,e)?n[e]++:n[e]=1}),b.toArray=function(n){return n?b.isArray(n)?h.call(n):j(n)?b.map(n,b.identity):b.values(n):[]},b.size=function(n){return null==n?0:j(n)?n.length:b.keys(n).length},b.partition=function(n,t,e){t=A(t,e);var r=[],i=[];return b.each(n,function(n,e,u){(t(n,e,u)?r:i).push(n)}),[r,i]},b.first=b.head=b.take=function(n,t,e){return null!=n?null==t||e?n[0]:b.initial(n,n.length-t):void 0},b.initial=function(n,t,e){return h.call(n,0,Math.max(0,n.length-(null==t||e?1:t)))},b.last=function(n,t,e){return null!=n?null==t||e?n[n.length-1]:b.rest(n,Math.max(0,n.length-t)):void 0},b.rest=b.tail=b.drop=function(n,t,e){return h.call(n,null==t||e?1:t)},b.compact=function(n){return b.filter(n,b.identity)};var M=function(n,t,e,r){for(var i=[],u=0,o=r||0,a=E(n);a>o;o++){var s=n[o];if(j(s)&&(b.isArray(s)||b.isArguments(s))){t||(s=M(s,t,e));var f=0,l=s.length;for(i.length+=l;l>f;)i[u++]=s[f++]}else e||(i[u++]=s)}return i};b.flatten=function(n,t){return M(n,t,!1)},b.without=function(n){return b.difference(n,h.call(arguments,1))},b.uniq=b.unique=function(n,t,e,r){b.isBoolean(t)||(r=e,e=t,t=!1),null!=e&&(e=A(e,r));for(var i=[],u=[],o=0,a=E(n);a>o;o++){var s=n[o],f=e?e(s,o,n):s;t?(o&&u===f||i.push(s),u=f):e?b.contains(u,f)||(u.push(f),i.push(s)):b.contains(i,s)||i.push(s)}return i},b.union=function(){return b.uniq(M(arguments,!0,!0))},b.intersection=function(n){for(var t=[],e=arguments.length,r=0,i=E(n);i>r;r++){var u=n[r];if(!b.contains(t,u)){for(var o=1;e>o&&b.contains(arguments[o],u);o++);o===e&&t.push(u)}}return t},b.difference=function(n){var t=M(arguments,!0,!0,1);return b.filter(n,function(n){return!b.contains(t,n)})},b.zip=function(){return b.unzip(arguments)},b.unzip=function(n){for(var t=n&&b.max(n,E).length||0,e=Array(t),r=0;t>r;r++)e[r]=b.pluck(n,r);return e},b.object=function(n,t){for(var e={},r=0,i=E(n);i>r;r++)t?e[n[r]]=t[r]:e[n[r][0]]=n[r][1];return e},b.findIndex=u(1),b.findLastIndex=u(-1),b.sortedIndex=function(n,t,e,r){e=A(e,r,1);for(var i=e(t),u=0,o=E(n);o>u;){var a=Math.floor((u+o)/2);e(n[a])<i?u=a+1:o=a}return u},b.indexOf=o(1,b.findIndex,b.sortedIndex),b.lastIndexOf=o(-1,b.findLastIndex),b.range=function(n,t,e){null==t&&(t=n||0,n=0),e=e||1;for(var r=Math.max(Math.ceil((t-n)/e),0),i=Array(r),u=0;r>u;u++,n+=e)i[u]=n;return i};var P=function(n,t,e,r,i){if(!(r instanceof t))return n.apply(e,i);var u=S(n.prototype),o=n.apply(u,i);return b.isObject(o)?o:u};b.bind=function(n,t){if(y&&n.bind===y)return y.apply(n,h.call(arguments,1));if(!b.isFunction(n))throw new TypeError("Bind must be called on a function");var e=h.call(arguments,2),r=function(){return P(n,r,t,this,e.concat(h.call(arguments)))};return r},b.partial=function(n){var t=h.call(arguments,1),e=function(){for(var r=0,i=t.length,u=Array(i),o=0;i>o;o++)u[o]=t[o]===b?arguments[r++]:t[o];for(;r<arguments.length;)u.push(arguments[r++]);return P(n,e,this,this,u)};return e},b.bindAll=function(n){var t,e,r=arguments.length;if(1>=r)throw new Error("bindAll must be passed function names");for(t=1;r>t;t++)e=arguments[t],n[e]=b.bind(n[e],n);return n},b.memoize=function(n,t){var e=function(r){var i=e.cache,u=""+(t?t.apply(this,arguments):r);return b.has(i,u)||(i[u]=n.apply(this,arguments)),i[u]};return e.cache={},e},b.delay=function(n,t){var e=h.call(arguments,2);return setTimeout(function(){return n.apply(null,e)},t)},b.defer=b.partial(b.delay,b,1),b.throttle=function(n,t,e){var r,i,u,o=null,a=0;e||(e={});var s=function(){a=e.leading===!1?0:b.now(),o=null,u=n.apply(r,i),o||(r=i=null)};return function(){var f=b.now();a||e.leading!==!1||(a=f);var l=t-(f-a);return r=this,i=arguments,0>=l||l>t?(o&&(clearTimeout(o),o=null),a=f,u=n.apply(r,i),o||(r=i=null)):o||e.trailing===!1||(o=setTimeout(s,l)),u}},b.debounce=function(n,t,e){var r,i,u,o,a,s=function(){var f=b.now()-o;t>f&&f>=0?r=setTimeout(s,t-f):(r=null,e||(a=n.apply(u,i),r||(u=i=null)))};return function(){u=this,i=arguments,o=b.now();var f=e&&!r;return r||(r=setTimeout(s,t)),f&&(a=n.apply(u,i),u=i=null),a}},b.wrap=function(n,t){return b.partial(t,n)},b.negate=function(n){return function(){return!n.apply(this,arguments)}},b.compose=function(){var n=arguments,t=n.length-1;return function(){for(var e=t,r=n[t].apply(this,arguments);e--;)r=n[e].call(this,r);return r}},b.after=function(n,t){return function(){return--n<1?t.apply(this,arguments):void 0}},b.before=function(n,t){var e;return function(){return--n>0&&(e=t.apply(this,arguments)),1>=n&&(t=null),e}},b.once=b.partial(b.before,2);var T=!{toString:null}.propertyIsEnumerable("toString"),D=["valueOf","isPrototypeOf","toString","propertyIsEnumerable","hasOwnProperty","toLocaleString"];b.keys=function(n){if(!b.isObject(n))return[];if(_)return _(n);var t=[];for(var e in n)b.has(n,e)&&t.push(e);return T&&a(n,t),t},b.allKeys=function(n){if(!b.isObject(n))return[];var t=[];for(var e in n)t.push(e);return T&&a(n,t),t},b.values=function(n){for(var t=b.keys(n),e=t.length,r=Array(e),i=0;e>i;i++)r[i]=n[t[i]];return r},b.mapObject=function(n,t,e){t=A(t,e);for(var r,i=b.keys(n),u=i.length,o={},a=0;u>a;a++)r=i[a],o[r]=t(n[r],r,n);return o},b.pairs=function(n){for(var t=b.keys(n),e=t.length,r=Array(e),i=0;e>i;i++)r[i]=[t[i],n[t[i]]];return r},b.invert=function(n){for(var t={},e=b.keys(n),r=0,i=e.length;i>r;r++)t[n[e[r]]]=e[r];return t},b.functions=b.methods=function(n){var t=[];for(var e in n)b.isFunction(n[e])&&t.push(e);return t.sort()},b.extend=O(b.allKeys),b.extendOwn=b.assign=O(b.keys),b.findKey=function(n,t,e){t=A(t,e);for(var r,i=b.keys(n),u=0,o=i.length;o>u;u++)if(r=i[u],t(n[r],r,n))return r},b.pick=function(n,t,e){var r,i,u={},o=n;if(null==o)return u;b.isFunction(t)?(i=b.allKeys(o),r=x(t,e)):(i=M(arguments,!1,!1,1),r=function(n,t,e){return t in e},o=Object(o));for(var a=0,s=i.length;s>a;a++){var f=i[a],l=o[f];r(l,f,o)&&(u[f]=l)}return u},b.omit=function(n,t,e){if(b.isFunction(t))t=b.negate(t);else{var r=b.map(M(arguments,!1,!1,1),String);t=function(n,t){return!b.contains(r,t)}}return b.pick(n,t,e)},b.defaults=O(b.allKeys,!0),b.create=function(n,t){var e=S(n);return t&&b.extendOwn(e,t),e},b.clone=function(n){return b.isObject(n)?b.isArray(n)?n.slice():b.extend({},n):n},b.tap=function(n,t){return t(n),n},b.isMatch=function(n,t){var e=b.keys(t),r=e.length;if(null==n)return!r;for(var i=Object(n),u=0;r>u;u++){var o=e[u];if(t[o]!==i[o]||!(o in i))return!1}return!0};var F=function(n,t,e,r){if(n===t)return 0!==n||1/n===1/t;if(null==n||null==t)return n===t;n instanceof b&&(n=n._wrapped),t instanceof b&&(t=t._wrapped);var i=v.call(n);if(i!==v.call(t))return!1;switch(i){case"[object RegExp]":case"[object String]":return""+n==""+t;case"[object Number]":return+n!==+n?+t!==+t:0===+n?1/+n===1/t:+n===+t;case"[object Date]":case"[object Boolean]":return+n===+t}var u="[object Array]"===i;if(!u){if("object"!=typeof n||"object"!=typeof t)return!1;var o=n.constructor,a=t.constructor;if(o!==a&&!(b.isFunction(o)&&o instanceof o&&b.isFunction(a)&&a instanceof a)&&"constructor"in n&&"constructor"in t)return!1}e=e||[],r=r||[];for(var s=e.length;s--;)if(e[s]===n)return r[s]===t;if(e.push(n),r.push(t),u){if(s=n.length,s!==t.length)return!1;for(;s--;)if(!F(n[s],t[s],e,r))return!1}else{var f,l=b.keys(n);if(s=l.length,b.keys(t).length!==s)return!1;for(;s--;)if(f=l[s],!b.has(t,f)||!F(n[f],t[f],e,r))return!1}return e.pop(),r.pop(),!0};b.isEqual=function(n,t){return F(n,t)},b.isEmpty=function(n){return null==n?!0:j(n)&&(b.isArray(n)||b.isString(n)||b.isArguments(n))?0===n.length:0===b.keys(n).length},b.isElement=function(n){return!(!n||1!==n.nodeType)},b.isArray=g||function(n){return"[object Array]"===v.call(n)},b.isObject=function(n){var t=typeof n;return"function"===t||"object"===t&&!!n},b.each(["Arguments","Function","String","Number","Date","RegExp","Error"],function(n){b["is"+n]=function(t){return v.call(t)==="[object "+n+"]"}}),b.isArguments(arguments)||(b.isArguments=function(n){return b.has(n,"callee")}),"function"!=typeof/./&&"object"!=typeof Int8Array&&(b.isFunction=function(n){return"function"==typeof n||!1}),b.isFinite=function(n){return isFinite(n)&&!isNaN(parseFloat(n))},b.isNaN=function(n){return b.isNumber(n)&&n!==+n},b.isBoolean=function(n){return n===!0||n===!1||"[object Boolean]"===v.call(n)},b.isNull=function(n){return null===n},b.isUndefined=function(n){return void 0===n},b.has=function(n,t){return null!=n&&m.call(n,t)},b.noConflict=function(){return s._=f,this},b.identity=function(n){return n},b.constant=function(n){return function(){return n}},b.noop=function(){},b.property=N,b.propertyOf=function(n){return null==n?function(){}:function(t){return n[t]}},b.matcher=b.matches=function(n){return n=b.extendOwn({},n),function(t){return b.isMatch(t,n)}},b.times=function(n,t,e){var r=Array(Math.max(0,n));t=x(t,e,1);for(var i=0;n>i;i++)r[i]=t(i);return r},b.random=function(n,t){return null==t&&(t=n,n=0),n+Math.floor(Math.random()*(t-n+1))},b.now=Date.now||function(){return(new Date).getTime()};var B={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#x27;","`":"&#x60;"},C=b.invert(B),q=function(n){var t=function(t){return n[t]},e="(?:"+b.keys(n).join("|")+")",r=RegExp(e),i=RegExp(e,"g");return function(n){return n=null==n?"":""+n,r.test(n)?n.replace(i,t):n}};b.escape=q(B),b.unescape=q(C),b.result=function(n,t,e){var r=null==n?void 0:n[t];return void 0===r&&(r=e),b.isFunction(r)?r.call(n):r};var G=0;b.uniqueId=function(n){var t=++G+"";return n?n+t:t},b.templateSettings={evaluate:/<%([\s\S]+?)%>/g,interpolate:/<%=([\s\S]+?)%>/g,escape:/<%-([\s\S]+?)%>/g};var U=/(.)^/,K={"'":"'","\\":"\\","\r":"r","\n":"n","\u2028":"u2028","\u2029":"u2029"},L=/\\|'|\r|\n|\u2028|\u2029/g,H=function(n){return"\\"+K[n]};b.template=function(n,t,e){!t&&e&&(t=e),t=b.defaults({},t,b.templateSettings);var r=RegExp([(t.escape||U).source,(t.interpolate||U).source,(t.evaluate||U).source].join("|")+"|$","g"),i=0,u="__p+='";n.replace(r,function(t,e,r,o,a){return u+=n.slice(i,a).replace(L,H),i=a+t.length,e?u+="'+\n((__t=("+e+"))==null?'':_.escape(__t))+\n'":r?u+="'+\n((__t=("+r+"))==null?'':__t)+\n'":o&&(u+="';\n"+o+"\n__p+='"),t}),u+="';\n",t.variable||(u="with(obj||{}){\n"+u+"}\n"),u="var __t,__p='',__j=Array.prototype.join,print=function(){__p+=__j.call(arguments,'');};\n"+u+"return __p;\n";try{var o=new Function(t.variable||"obj","_",u)}catch(a){throw a.source=u,a}var s=function(n){return o.call(this,n,b)},f=t.variable||"obj";return s.source="function("+f+"){\n"+u+"}",s},b.chain=function(n){var t=b(n);return t._chain=!0,t};var z=function(n,t){return n._chain?b(t).chain():t};b.mixin=function(n){b.each(b.functions(n),function(t){var e=b[t]=n[t];b.prototype[t]=function(){var n=[this._wrapped];return d.apply(n,arguments),z(this,e.apply(b,n))}})},b.mixin(b),b.each(["pop","push","reverse","shift","sort","splice","unshift"],function(n){var t=l[n];b.prototype[n]=function(){var e=this._wrapped;return t.apply(e,arguments),"shift"!==n&&"splice"!==n||0!==e.length||delete e[0],z(this,e)}}),b.each(["concat","join","slice"],function(n){var t=l[n];b.prototype[n]=function(){return z(this,t.apply(this._wrapped,arguments))}}),b.prototype.value=function(){return this._wrapped},b.prototype.valueOf=b.prototype.toJSON=b.prototype.value,b.prototype.toString=function(){return""+this._wrapped},r=[],i=function(){return b}.apply(t,r),!(void 0!==i&&(n.exports=i))}).call(this)},function(n,t,e){"use strict";function r(n){return n&&n.__esModule?n:{"default":n}}Object.defineProperty(t,"__esModule",{value:!0});var i=e(2),u=r(i),o=void 0,a=void 0,s=void 0,f=void 0,l={init:function(n){o=n.fieldArray,a=n.tileRows},getFieldArray:function(){return o},getTileRows:function(){return a},toRow:function(n){return Math.floor(n/a)},toCol:function(n){return n%a},is_pig_looking:function(n){var t=this.toRow(n),e=this.toCol(n);if(t>0)for(s=t-1;s>=0&&(3!=o[s*a+e]&&5!=o[s*a+e]);s--)if(1==o[s*a+e])return!0;if(a>t)for(s=t+1;a>s&&(3!=o[s*a+e]&&5!=o[s*a+e]);s++)if(1==o[s*a+e])return!0;if(e>0)for(f=e-1;f>=0&&(3!=o[t*a+f]&&5!=o[t*a+f]);f--)if(1==o[t*a+f])return!0;if(a>e)for(f=e+1;a>f&&(3!=o[t*a+f]&&5!=o[t*a+f]);f++)if(1==o[t*a+f])return!0;return!1},is_something_around:function(n,t){var e=arguments.length<=2||void 0===arguments[2]?void 0:arguments[2],r=this.toRow(n),i=this.toCol(n);void 0===e&&(e=o);for(var u=r-1;r+1>=u;u++)for(var s=i-1;i+1>=s;s++)if(u>=0&&a>u&&s>=0&&a>s&&e[u*a+s]==t)return!0;return!1},is_pig_around:function(n){var t=arguments.length<=1||void 0===arguments[1]?void 0:arguments[1];return this.is_something_around(n,1,t)},is_pumpkin_around:function(n){var t=arguments.length<=1||void 0===arguments[1]?void 0:arguments[1];return this.is_something_around(n,3,t)},pos_pumpkin_around:function(n){for(var t=this.toRow(n),e=this.toCol(n),r=t-1;t+1>=r;r++)for(var i=e-1;e+1>=i;i++)if(r>=0&&a>r&&i>=0&&a>i&&3==o[r*a+i])return r*a+i;return!1},how_many_threatened_pumpkins:function(n){for(var t=0,e=0;a*a>e;e++)3==n[e]&&this.is_pig_around(e,n)&&t++;return t},log_field:function(n){for(var t="",e=0;a>e;e++){for(var r=0;a>r;r++)t+=0===n[e*a+r]?"-":n[e*a+r];a-1>e&&(t+="\n")}console.log(t+"\n\n")},simulate_move:function(n,t){var e=u["default"].clone(n),r=this.getTileRows();if(0===t)for(var i=0;r>i;i++)for(var o=0;r>o;o++){var a=i*r+o;if(1===e[a]){var s=this.pos_pumpkin_around(a);if(this.pos_pumpkin_around(a)!==!1)e[s]=0;else{for(var f=i;;){if(0!==e[(f-1)*r+o]||0===f)break;f--}e[a]=0,e[f*r+o]=1}}}else if(1==t)for(var l=r-1;l>=0;l--)for(var c=0;r>c;c++){var a=l*r+c;if(1===e[a]){var s=this.pos_pumpkin_around(a);if(this.pos_pumpkin_around(a)!==!1)e[s]=0;else{for(var f=l;;){if(0!==e[(f+1)*r+c]||f+1===r)break;f++}e[a]=0,e[f*r+c]=1}}}else if(2==t)for(var p=0;r>p;p++)for(var d=0;r>d;d++){var a=d*r+p;if(1===e[a]){var s=this.pos_pumpkin_around(a);if(this.pos_pumpkin_around(a)!==!1)e[s]=0;else{for(var f=p;;){if(0!==e[d*r+(f-1)]||0===f)break;f--}e[a]=0,e[d*r+f]=1}}}else if(3==t)for(var h=r-1;h>=0;h--)for(var v=0;r>v;v++){var a=v*r+h;if(1===e[a]){var s=this.pos_pumpkin_around(a);if(this.pos_pumpkin_around(a)!==!1)e[s]=0;else{for(var f=h;;){if(0!==e[v*r+(f+1)]||f+1===r)break;f++}e[a]=0,e[v*r+f]=1}}}return e}};t["default"]=l,n.exports=t["default"]},function(n,t,e){"use strict";function r(n){return n&&n.__esModule?n:{"default":n}}Object.defineProperty(t,"__esModule",{value:!0});var i=e(2),u=r(i),o=e(5),a=r(o),s=u["default"].clone(a["default"]);s.privSquadName="v9",s.pigBirthplace=function(){var n=this;if(-1===u["default"].indexOf(this.fieldArray,0))return-1;var t=[],e=[],r=[];return u["default"].each(u["default"].range(this.tileRows*this.tileRows),function(r){0===n.fieldArray[r]&&(t.push(r),n.gu.is_pig_looking(r)||e.push(r))}),r=e.length>0?e:t,u["default"].sample(r)},s.pigMoves=function(){var n=void 0,t=[0,0,0,0];return n=this.gu.simulate_move(this.fieldArray,0),t[0]=4*this.gu.how_many_threatened_pumpkins(n)+this.gu.how_many_threatened_pumpkins(this.gu.simulate_move(n,0))+this.gu.how_many_threatened_pumpkins(this.gu.simulate_move(n,1))+this.gu.how_many_threatened_pumpkins(this.gu.simulate_move(n,2))+this.gu.how_many_threatened_pumpkins(this.gu.simulate_move(n,3)),n=this.gu.simulate_move(this.fieldArray,1),t[1]=4*this.gu.how_many_threatened_pumpkins(n)+this.gu.how_many_threatened_pumpkins(this.gu.simulate_move(n,0))+this.gu.how_many_threatened_pumpkins(this.gu.simulate_move(n,1))+this.gu.how_many_threatened_pumpkins(this.gu.simulate_move(n,2))+this.gu.how_many_threatened_pumpkins(this.gu.simulate_move(n,3)),n=this.gu.simulate_move(this.fieldArray,2),t[2]=4*this.gu.how_many_threatened_pumpkins(n)+this.gu.how_many_threatened_pumpkins(this.gu.simulate_move(n,0))+this.gu.how_many_threatened_pumpkins(this.gu.simulate_move(n,1))+this.gu.how_many_threatened_pumpkins(this.gu.simulate_move(n,2))+this.gu.how_many_threatened_pumpkins(this.gu.simulate_move(n,3)),n=this.gu.simulate_move(this.fieldArray,3),t[3]=4*this.gu.how_many_threatened_pumpkins(n)+this.gu.how_many_threatened_pumpkins(this.gu.simulate_move(n,0))+this.gu.how_many_threatened_pumpkins(this.gu.simulate_move(n,1))+this.gu.how_many_threatened_pumpkins(this.gu.simulate_move(n,2))+this.gu.how_many_threatened_pumpkins(this.gu.simulate_move(n,3)),t},t["default"]=s,n.exports=t["default"]},function(n,t,e){"use strict";function r(n){return n&&n.__esModule?n:{"default":n}}Object.defineProperty(t,"__esModule",{value:!0});var i=e(2),u=r(i),o={privSquadName:"--",gu:{},fieldArray:[],tileRows:0,init:function(n){this.gu=n,this.fieldArray=n.getFieldArray(),this.tileRows=n.getTileRows()},squadName:function(){return this.privSquadName},pigBirthplace:function(){console.log("PLEASE OVERRIDE THIS FUNCTION IN YOUR SQUAD");var n=this;if(-1===u["default"].indexOf(this.fieldArray,0))return-1;var t=[];return u["default"].each(u["default"].range(this.tileRows*this.tileRows),function(e){0===n.fieldArray[e]&&t.push(e)}),u["default"].sample(t)},pigMoves:function(){return console.log("PLEASE OVERRIDE THIS FUNCTION IN YOUR SQUAD"),[0,0,0,0]}};t["default"]=o,n.exports=t["default"]},function(n,t,e){"use strict";function r(n){return n&&n.__esModule?n:{"default":n}}Object.defineProperty(t,"__esModule",{value:!0});var i=e(2),u=r(i),o=e(7),a=r(o),s=u["default"].clone(a["default"]);s.privSquadName="v6",s.pumpkinBirthplace=function(){var n=this;if(-1==u["default"].indexOf(this.fieldArray,0))return-1;var t=[],e=[],r=[],i=[],o=[],a=[],s=99999,f=[];u["default"].each(u["default"].range(this.tileRows*this.tileRows),function(t){var e=u["default"].clone(n.fieldArray);e[t]=3;var r=n.gu.how_many_threatened_pumpkins(n.gu.simulate_move(e,0))+n.gu.how_many_threatened_pumpkins(n.gu.simulate_move(e,1))+n.gu.how_many_threatened_pumpkins(n.gu.simulate_move(e,2))+n.gu.how_many_threatened_pumpkins(n.gu.simulate_move(e,3));s>r?(s=r,f=[t]):r==s&&f.push(t)});var l=99999,c=[];return u["default"].each(u["default"].range(this.tileRows*this.tileRows),function(t){if(u["default"].contains(f,t)){var e=u["default"].clone(n.fieldArray);e[t]=3;var r=0;u["default"].each([0,1,2,3],function(t){u["default"].each([0,1,2,3],function(i){r+=n.gu.how_many_threatened_pumpkins(n.gu.simulate_move(n.gu.simulate_move(e,t),i))})}),l>r?(l=r,c=[t]):r==l&&c.push(t)}}),u["default"].each(u["default"].range(this.tileRows*this.tileRows),function(a){0===n.fieldArray[a]&&(t.push(a),n.gu.is_pig_around(a)||(e.push(a),n.gu.is_pig_looking(a)||(r.push(a),u["default"].contains(f,a)&&(i.push(a),u["default"].contains(c,a)&&o.push(a)))))}),a=o.length>0?o:i.length>0?i:r.length>0?r:e.length>0?e:t,u["default"].sample(a)},t["default"]=s,n.exports=t["default"]},function(n,t,e){"use strict";function r(n){return n&&n.__esModule?n:{"default":n}}Object.defineProperty(t,"__esModule",{value:!0});var i=e(2),u=r(i),o={privSquadName:"--",gu:{},fieldArray:[],tileRows:0,init:function(n){this.gu=n,this.fieldArray=n.getFieldArray(),this.tileRows=n.getTileRows()},squadName:function(){return this.privSquadName},pumpkinBirthplace:function(){var n=this;if(console.log("PLEASE OVERRIDE THIS FUNCTION IN YOUR SQUAD"),-1==u["default"].indexOf(this.fieldArray,0))return-1;var t=[];return u["default"].each(u["default"].range(this.tileRows*this.tileRows),function(e){0===n.fieldArray[e]&&t.push(e)}),u["default"].sample(t)}};t["default"]=o,n.exports=t["default"]}]);